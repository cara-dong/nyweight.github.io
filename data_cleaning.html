<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>data_cleaning.knit</title>

<script src="site_libs/header-attrs-2.25/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/journal.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.13.2/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<script src="site_libs/kePrint-0.0.1/kePrint.js"></script>
<link href="site_libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<link href="site_libs/font-awesome-6.4.2/css/all.min.css" rel="stylesheet" />
<link href="site_libs/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>









<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Home</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="Project_report.html">Project Report</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="data_cleaning.html">Data Cleaning</a>
</li>
<li>
  <a href="visualization.html">Visualization</a>
</li>
<li>
  <a href="regression.html">Test &amp; Regression</a>
</li>
<li>
  <a href="about.html">About</a>
</li>
<li>
  <a href="https://github.com/cara-dong/nyweight.github.io">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">

<div class="btn-group pull-right float-right">
<button type="button" class="btn btn-default btn-xs btn-secondary btn-sm dropdown-toggle" data-toggle="dropdown" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu dropdown-menu-right" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
</ul>
</div>




</div>


<style>

.centered-title {
  text-align: center;
  font-weight: bold;
  font-size: 36px;
  margin-bottom: 40px;
}

h1 {
  font-weight: bold;
  font-size: 30px;
}

h2 {
  font-weight: bold;
  font-size: 22px;
}

h3 {
  font-weight: bold;
  font-size: 14px;
}
</style>
<div class="centered-title">
Data Cleaning
</div>
<div id="data-source" class="section level1">
<h1>Data Source</h1>
<ul>
<li><p><strong><a
href="https://health.data.ny.gov/Health/Student-Weight-Status-Category-Reporting-Results-B/es3k-2aus">Student
Weight Status</a></strong>: The source is official health.data.ny.gov
(NY state government). The data provides information about weight status
category data (underweight, healthy weight, overweight or obese) and
estimates of the percent of students overweight, obese and overweight or
obese for all reportable grades within the county and/or region and by
grade groups (elementary and middle/high).</p></li>
<li><p><strong><a
href="https://pad.human.cornell.edu/schools/datadownload.cfm">Student
Enrolled Demographics Data</a></strong>: The source is Cornell
Universityâ€™s data library. The data provides</p></li>
</ul>
</div>
<div id="data-cleaning" class="section level1">
<h1>Data Cleaning</h1>
<div id="student-weight-data" class="section level2">
<h2>Student Weight Data</h2>
<p>What we did:</p>
<ul>
<li><p>We have focused our investigation on the most recent five
academic years, spanning from 2014 to 2019. To maintain consistency,
each academic year, which is represented by the later half of the
previous year and the earlier half of the next year, is denoted by the
next year. For example, the academic year 2014-2015 is denoted as
2015.</p></li>
<li><p>In our analysis, we deliberately excluded summation data,
retaining only information from distinct categories. This ensures that
our focus is solely on granular data from diverse categories.</p></li>
<li><p>To streamline our dataset for subsequent analyses, we have
retained only the informative variables. These variables have been
carefully selected based on their quality and relevance to our intended
analytical purposes.</p></li>
</ul>
<pre class="r"><code>Student_Weight = read_csv(&quot;data/Student Weight.csv&quot;)</code></pre>
<pre class="r"><code>Student_Weight  = 
  Student_Weight |&gt;
  janitor::clean_names() |&gt;
  rename(&#39;district&#39;=&#39;location_code&#39;) |&gt;
  filter(year_reported %in% c(&quot;2014-2015&quot;, &quot;2015-2016&quot;, &quot;2016-2017&quot;, &quot;2017-2018&quot;, &quot;2018-2019&quot;))</code></pre>
<pre class="r"><code>Student_Weight$year_reported = sub(&quot;.*-&quot;, &quot;&quot;, Student_Weight$year_reported)

Student_Weight = 
  Student_Weight |&gt;
  mutate(year_reported = as.numeric(Student_Weight$year_reported)) |&gt;
  filter(grade_level!=&quot;DISTRICT TOTAL&quot; &amp; sex!=&quot;ALL&quot; &amp; county!=&#39;STATEWIDE (EXCLUDING NYC)&#39;) |&gt; 
  select(-region, -area_name)</code></pre>
<pre class="r"><code>show_student_weight = 
  Student_Weight |&gt;
  head(7) |&gt;
  knitr::kable(digits = 3) |&gt;
  kableExtra::kable_styling(bootstrap_options = c(&quot;striped&quot;, &quot;hover&quot;), font_size = 12) |&gt; 
  kableExtra::scroll_box(width = &quot;100%&quot;, height = &quot;300px&quot;)

show_student_weight</code></pre>
<div
style="border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:300px; overflow-x: scroll; width:100%; ">
<table class="table table-striped table-hover" style="font-size: 12px; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
district
</th>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
county
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
year_reported
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
number_overweight
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
percent_overweight
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
number_obese
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
percent_obese
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
number_overweight_or_obese
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
percent_overweight_or_obese
</th>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
grade_level
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
number_healthy_weight
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
percent_healthy_weight
</th>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
sex
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
10100
</td>
<td style="text-align:left;">
ALBANY
</td>
<td style="text-align:right;">
2016
</td>
<td style="text-align:right;">
120
</td>
<td style="text-align:right;">
17.0
</td>
<td style="text-align:right;">
140
</td>
<td style="text-align:right;">
19.9
</td>
<td style="text-align:right;">
260
</td>
<td style="text-align:right;">
36.9
</td>
<td style="text-align:left;">
ELEMENTARY
</td>
<td style="text-align:right;">
423
</td>
<td style="text-align:right;">
0.601
</td>
<td style="text-align:left;">
FEMALE
</td>
</tr>
<tr>
<td style="text-align:right;">
10100
</td>
<td style="text-align:left;">
ALBANY
</td>
<td style="text-align:right;">
2016
</td>
<td style="text-align:right;">
107
</td>
<td style="text-align:right;">
15.2
</td>
<td style="text-align:right;">
142
</td>
<td style="text-align:right;">
20.2
</td>
<td style="text-align:right;">
249
</td>
<td style="text-align:right;">
35.4
</td>
<td style="text-align:left;">
ELEMENTARY
</td>
<td style="text-align:right;">
441
</td>
<td style="text-align:right;">
0.626
</td>
<td style="text-align:left;">
MALE
</td>
</tr>
<tr>
<td style="text-align:right;">
10100
</td>
<td style="text-align:left;">
ALBANY
</td>
<td style="text-align:right;">
2016
</td>
<td style="text-align:right;">
54
</td>
<td style="text-align:right;">
23.2
</td>
<td style="text-align:right;">
53
</td>
<td style="text-align:right;">
22.7
</td>
<td style="text-align:right;">
107
</td>
<td style="text-align:right;">
45.9
</td>
<td style="text-align:left;">
MIDDLE/HIGH
</td>
<td style="text-align:right;">
121
</td>
<td style="text-align:right;">
0.519
</td>
<td style="text-align:left;">
FEMALE
</td>
</tr>
<tr>
<td style="text-align:right;">
10100
</td>
<td style="text-align:left;">
ALBANY
</td>
<td style="text-align:right;">
2016
</td>
<td style="text-align:right;">
44
</td>
<td style="text-align:right;">
20.1
</td>
<td style="text-align:right;">
42
</td>
<td style="text-align:right;">
19.2
</td>
<td style="text-align:right;">
86
</td>
<td style="text-align:right;">
39.3
</td>
<td style="text-align:left;">
MIDDLE/HIGH
</td>
<td style="text-align:right;">
124
</td>
<td style="text-align:right;">
0.566
</td>
<td style="text-align:left;">
MALE
</td>
</tr>
<tr>
<td style="text-align:right;">
10100
</td>
<td style="text-align:left;">
ALBANY
</td>
<td style="text-align:right;">
2018
</td>
<td style="text-align:right;">
125
</td>
<td style="text-align:right;">
17.9
</td>
<td style="text-align:right;">
114
</td>
<td style="text-align:right;">
16.4
</td>
<td style="text-align:right;">
239
</td>
<td style="text-align:right;">
34.3
</td>
<td style="text-align:left;">
ELEMENTARY
</td>
<td style="text-align:right;">
453
</td>
<td style="text-align:right;">
0.650
</td>
<td style="text-align:left;">
FEMALE
</td>
</tr>
<tr>
<td style="text-align:right;">
10100
</td>
<td style="text-align:left;">
ALBANY
</td>
<td style="text-align:right;">
2018
</td>
<td style="text-align:right;">
135
</td>
<td style="text-align:right;">
16.0
</td>
<td style="text-align:right;">
152
</td>
<td style="text-align:right;">
18.0
</td>
<td style="text-align:right;">
287
</td>
<td style="text-align:right;">
34.0
</td>
<td style="text-align:left;">
ELEMENTARY
</td>
<td style="text-align:right;">
553
</td>
<td style="text-align:right;">
0.654
</td>
<td style="text-align:left;">
MALE
</td>
</tr>
<tr>
<td style="text-align:right;">
10100
</td>
<td style="text-align:left;">
ALBANY
</td>
<td style="text-align:right;">
2018
</td>
<td style="text-align:right;">
44
</td>
<td style="text-align:right;">
18.3
</td>
<td style="text-align:right;">
67
</td>
<td style="text-align:right;">
27.9
</td>
<td style="text-align:right;">
111
</td>
<td style="text-align:right;">
46.3
</td>
<td style="text-align:left;">
MIDDLE/HIGH
</td>
<td style="text-align:right;">
123
</td>
<td style="text-align:right;">
0.513
</td>
<td style="text-align:left;">
FEMALE
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="demographics-data" class="section level2">
<h2>Demographics Data</h2>
<p>What we did:</p>
<ul>
<li><p>We have adhered to the standardized format of variable names,
similar to the conventions followed in the Student_Weight
dataset.</p></li>
<li><p>we have diligently converted variables to their appropriate data
types.</p></li>
</ul>
<pre class="r"><code>Demographics_all = read_csv(&quot;data/Demographics_all.csv&quot;)</code></pre>
<pre class="r"><code>Demographics_all = 
  Demographics_all |&gt; 
  janitor::clean_names() |&gt;
  mutate(district = as.numeric(district))</code></pre>
<pre class="r"><code>show_demographics = 
  Demographics_all |&gt;
  head(7) |&gt;
  knitr::kable() |&gt;
  kableExtra::kable_styling(bootstrap_options = c(&quot;striped&quot;, &quot;hover&quot;), font_size = 12) |&gt; 
  kableExtra::scroll_box(width = &quot;100%&quot;, height = &quot;300px&quot;)

show_demographics</code></pre>
<div
style="border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:300px; overflow-x: scroll; width:100%; ">
<table class="table table-striped table-hover" style="font-size: 12px; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
district
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
year
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
num_asian
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
num_black
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
num_hisp
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
num_am_ind
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
num_white
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
num_female
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
num_male
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
num_lep
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
num_free_lunch
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
num_reduced_lunch
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
num_multi
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
num_swd
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
num_ecdis
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
num_ell
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
10100
</td>
<td style="text-align:right;">
1993
</td>
<td style="text-align:right;">
255
</td>
<td style="text-align:right;">
4951
</td>
<td style="text-align:right;">
483
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
3555
</td>
<td style="text-align:right;">
4663
</td>
<td style="text-align:right;">
4588
</td>
<td style="text-align:right;">
133
</td>
<td style="text-align:right;">
4736
</td>
<td style="text-align:right;">
658
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
</tr>
<tr>
<td style="text-align:right;">
10100
</td>
<td style="text-align:right;">
1994
</td>
<td style="text-align:right;">
279
</td>
<td style="text-align:right;">
5106
</td>
<td style="text-align:right;">
520
</td>
<td style="text-align:right;">
13
</td>
<td style="text-align:right;">
3442
</td>
<td style="text-align:right;">
4644
</td>
<td style="text-align:right;">
4716
</td>
<td style="text-align:right;">
206
</td>
<td style="text-align:right;">
4762
</td>
<td style="text-align:right;">
672
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
</tr>
<tr>
<td style="text-align:right;">
10100
</td>
<td style="text-align:right;">
1995
</td>
<td style="text-align:right;">
365
</td>
<td style="text-align:right;">
5448
</td>
<td style="text-align:right;">
585
</td>
<td style="text-align:right;">
14
</td>
<td style="text-align:right;">
3296
</td>
<td style="text-align:right;">
4873
</td>
<td style="text-align:right;">
4835
</td>
<td style="text-align:right;">
260
</td>
<td style="text-align:right;">
5232
</td>
<td style="text-align:right;">
659
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
</tr>
<tr>
<td style="text-align:right;">
10100
</td>
<td style="text-align:right;">
1996
</td>
<td style="text-align:right;">
283
</td>
<td style="text-align:right;">
5809
</td>
<td style="text-align:right;">
603
</td>
<td style="text-align:right;">
25
</td>
<td style="text-align:right;">
3247
</td>
<td style="text-align:right;">
4933
</td>
<td style="text-align:right;">
5034
</td>
<td style="text-align:right;">
268
</td>
<td style="text-align:right;">
5058
</td>
<td style="text-align:right;">
575
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
</tr>
<tr>
<td style="text-align:right;">
10100
</td>
<td style="text-align:right;">
1997
</td>
<td style="text-align:right;">
278
</td>
<td style="text-align:right;">
6101
</td>
<td style="text-align:right;">
647
</td>
<td style="text-align:right;">
28
</td>
<td style="text-align:right;">
3196
</td>
<td style="text-align:right;">
5015
</td>
<td style="text-align:right;">
5235
</td>
<td style="text-align:right;">
300
</td>
<td style="text-align:right;">
5299
</td>
<td style="text-align:right;">
594
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
</tr>
<tr>
<td style="text-align:right;">
10100
</td>
<td style="text-align:right;">
1998
</td>
<td style="text-align:right;">
275
</td>
<td style="text-align:right;">
6252
</td>
<td style="text-align:right;">
711
</td>
<td style="text-align:right;">
25
</td>
<td style="text-align:right;">
3117
</td>
<td style="text-align:right;">
5110
</td>
<td style="text-align:right;">
5270
</td>
<td style="text-align:right;">
308
</td>
<td style="text-align:right;">
5823
</td>
<td style="text-align:right;">
787
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
</tr>
<tr>
<td style="text-align:right;">
10100
</td>
<td style="text-align:right;">
1999
</td>
<td style="text-align:right;">
275
</td>
<td style="text-align:right;">
6091
</td>
<td style="text-align:right;">
734
</td>
<td style="text-align:right;">
29
</td>
<td style="text-align:right;">
3003
</td>
<td style="text-align:right;">
5022
</td>
<td style="text-align:right;">
5110
</td>
<td style="text-align:right;">
284
</td>
<td style="text-align:right;">
5249
</td>
<td style="text-align:right;">
805
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="join-demographics-with-student-weight-for-years-2015-2019"
class="section level2">
<h2>Join Demographics with Student Weight for Years 2015-2019</h2>
<p>What we did:</p>
<ul>
<li><p>To integrate valuable information from the Student_Weight dataset
and the Demographics dataset, weâ€™ve crafted a function designed to merge
these datasets. The merging process is based on matching the district
code, ensuring cohesiveness between the datasets for each academic
year.</p></li>
<li><p>This integration procedure is applied iteratively across the
academic years from 2015 to 2019. The outcomes of each iteration,
representing a specific academic year, are combined into a comprehensive
dataset.</p></li>
<li><p>The variables in the combined dataset are selected to retain only
high-quality, pertinent data essential for our subsequent
analyses.</p></li>
</ul>
<pre class="r"><code>join_demo = function(year) {
  Student_Weight_year = 
  Student_Weight |&gt; 
  filter(year_reported == year)

Demographics_all_year = 
  Demographics_all |&gt;
  filter(year==year)

result_year = merge(Student_Weight_year, Demographics_all_year, by = &quot;district&quot;)|&gt;
  select(-num_ell, -year_reported) |&gt;
  drop_na()

return(result_year)
}</code></pre>
<pre class="r"><code>year = c(2015, 2016, 2017, 2018, 2019)
result_list = list(result_2015 = tibble(), result_2016 = tibble(), result_2017 = tibble(), result_2018 = tibble(), result_2019 = tibble())

for (i in 1:length(year)) {
  result_list[[i]] = join_demo(year[i])
}

cleaned = bind_rows(result_list)

cleaned = 
  cleaned |&gt;
  select(district, county, year, sex, grade_level, 
         number_overweight, percent_overweight, number_obese, percent_obese, 
         number_overweight_or_obese, percent_overweight_or_obese, 
         number_healthy_weight, percent_healthy_weight, 
         num_asian, num_black, num_hisp, num_am_ind, num_white, num_female, num_male, num_lep, num_multi, num_swd, num_ecdis, num_free_lunch, num_reduced_lunch)</code></pre>
<pre class="r"><code>show_cleaned_data = 
  cleaned |&gt;
  head(7) |&gt;
  knitr::kable(digits=3) |&gt;
  kableExtra::kable_styling(bootstrap_options = c(&quot;striped&quot;, &quot;hover&quot;), font_size = 12) |&gt; 
  kableExtra::scroll_box(width = &quot;100%&quot;, height = &quot;300px&quot;)

show_cleaned_data</code></pre>
<div
style="border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:300px; overflow-x: scroll; width:100%; ">
<table class="table table-striped table-hover" style="font-size: 12px; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
district
</th>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
county
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
year
</th>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
sex
</th>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
grade_level
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
number_overweight
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
percent_overweight
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
number_obese
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
percent_obese
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
number_overweight_or_obese
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
percent_overweight_or_obese
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
number_healthy_weight
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
percent_healthy_weight
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
num_asian
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
num_black
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
num_hisp
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
num_am_ind
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
num_white
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
num_female
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
num_male
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
num_lep
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
num_multi
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
num_swd
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
num_ecdis
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
num_free_lunch
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
num_reduced_lunch
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
10402
</td>
<td style="text-align:left;">
ALBANY
</td>
<td style="text-align:right;">
2012
</td>
<td style="text-align:left;">
FEMALE
</td>
<td style="text-align:left;">
ELEMENTARY
</td>
<td style="text-align:right;">
20
</td>
<td style="text-align:right;">
11.0
</td>
<td style="text-align:right;">
39
</td>
<td style="text-align:right;">
21.5
</td>
<td style="text-align:right;">
59
</td>
<td style="text-align:right;">
32.6
</td>
<td style="text-align:right;">
122
</td>
<td style="text-align:right;">
0.674
</td>
<td style="text-align:right;">
16
</td>
<td style="text-align:right;">
81
</td>
<td style="text-align:right;">
110
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1677
</td>
<td style="text-align:right;">
930
</td>
<td style="text-align:right;">
1016
</td>
<td style="text-align:right;">
17
</td>
<td style="text-align:right;">
61
</td>
<td style="text-align:right;">
281
</td>
<td style="text-align:right;">
753
</td>
<td style="text-align:right;">
544
</td>
<td style="text-align:right;">
143
</td>
</tr>
<tr>
<td style="text-align:right;">
10402
</td>
<td style="text-align:left;">
ALBANY
</td>
<td style="text-align:right;">
2015
</td>
<td style="text-align:left;">
FEMALE
</td>
<td style="text-align:left;">
ELEMENTARY
</td>
<td style="text-align:right;">
20
</td>
<td style="text-align:right;">
11.0
</td>
<td style="text-align:right;">
39
</td>
<td style="text-align:right;">
21.5
</td>
<td style="text-align:right;">
59
</td>
<td style="text-align:right;">
32.6
</td>
<td style="text-align:right;">
122
</td>
<td style="text-align:right;">
0.674
</td>
<td style="text-align:right;">
18
</td>
<td style="text-align:right;">
74
</td>
<td style="text-align:right;">
117
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1493
</td>
<td style="text-align:right;">
868
</td>
<td style="text-align:right;">
919
</td>
<td style="text-align:right;">
11
</td>
<td style="text-align:right;">
84
</td>
<td style="text-align:right;">
249
</td>
<td style="text-align:right;">
784
</td>
<td style="text-align:right;">
650
</td>
<td style="text-align:right;">
74
</td>
</tr>
<tr>
<td style="text-align:right;">
10402
</td>
<td style="text-align:left;">
ALBANY
</td>
<td style="text-align:right;">
2016
</td>
<td style="text-align:left;">
FEMALE
</td>
<td style="text-align:left;">
ELEMENTARY
</td>
<td style="text-align:right;">
20
</td>
<td style="text-align:right;">
11.0
</td>
<td style="text-align:right;">
39
</td>
<td style="text-align:right;">
21.5
</td>
<td style="text-align:right;">
59
</td>
<td style="text-align:right;">
32.6
</td>
<td style="text-align:right;">
122
</td>
<td style="text-align:right;">
0.674
</td>
<td style="text-align:right;">
13
</td>
<td style="text-align:right;">
79
</td>
<td style="text-align:right;">
129
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1459
</td>
<td style="text-align:right;">
862
</td>
<td style="text-align:right;">
905
</td>
<td style="text-align:right;">
14
</td>
<td style="text-align:right;">
86
</td>
<td style="text-align:right;">
275
</td>
<td style="text-align:right;">
775
</td>
<td style="text-align:right;">
672
</td>
<td style="text-align:right;">
59
</td>
</tr>
<tr>
<td style="text-align:right;">
10402
</td>
<td style="text-align:left;">
ALBANY
</td>
<td style="text-align:right;">
2017
</td>
<td style="text-align:left;">
FEMALE
</td>
<td style="text-align:left;">
ELEMENTARY
</td>
<td style="text-align:right;">
20
</td>
<td style="text-align:right;">
11.0
</td>
<td style="text-align:right;">
39
</td>
<td style="text-align:right;">
21.5
</td>
<td style="text-align:right;">
59
</td>
<td style="text-align:right;">
32.6
</td>
<td style="text-align:right;">
122
</td>
<td style="text-align:right;">
0.674
</td>
<td style="text-align:right;">
21
</td>
<td style="text-align:right;">
72
</td>
<td style="text-align:right;">
145
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1528
</td>
<td style="text-align:right;">
914
</td>
<td style="text-align:right;">
948
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
95
</td>
<td style="text-align:right;">
324
</td>
<td style="text-align:right;">
811
</td>
<td style="text-align:right;">
653
</td>
<td style="text-align:right;">
73
</td>
</tr>
<tr>
<td style="text-align:right;">
10402
</td>
<td style="text-align:left;">
ALBANY
</td>
<td style="text-align:right;">
2013
</td>
<td style="text-align:left;">
FEMALE
</td>
<td style="text-align:left;">
ELEMENTARY
</td>
<td style="text-align:right;">
20
</td>
<td style="text-align:right;">
11.0
</td>
<td style="text-align:right;">
39
</td>
<td style="text-align:right;">
21.5
</td>
<td style="text-align:right;">
59
</td>
<td style="text-align:right;">
32.6
</td>
<td style="text-align:right;">
122
</td>
<td style="text-align:right;">
0.674
</td>
<td style="text-align:right;">
20
</td>
<td style="text-align:right;">
73
</td>
<td style="text-align:right;">
119
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1592
</td>
<td style="text-align:right;">
890
</td>
<td style="text-align:right;">
982
</td>
<td style="text-align:right;">
15
</td>
<td style="text-align:right;">
67
</td>
<td style="text-align:right;">
242
</td>
<td style="text-align:right;">
747
</td>
<td style="text-align:right;">
585
</td>
<td style="text-align:right;">
107
</td>
</tr>
<tr>
<td style="text-align:right;">
10402
</td>
<td style="text-align:left;">
ALBANY
</td>
<td style="text-align:right;">
2014
</td>
<td style="text-align:left;">
FEMALE
</td>
<td style="text-align:left;">
ELEMENTARY
</td>
<td style="text-align:right;">
20
</td>
<td style="text-align:right;">
11.0
</td>
<td style="text-align:right;">
39
</td>
<td style="text-align:right;">
21.5
</td>
<td style="text-align:right;">
59
</td>
<td style="text-align:right;">
32.6
</td>
<td style="text-align:right;">
122
</td>
<td style="text-align:right;">
0.674
</td>
<td style="text-align:right;">
20
</td>
<td style="text-align:right;">
74
</td>
<td style="text-align:right;">
114
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1537
</td>
<td style="text-align:right;">
870
</td>
<td style="text-align:right;">
953
</td>
<td style="text-align:right;">
14
</td>
<td style="text-align:right;">
77
</td>
<td style="text-align:right;">
259
</td>
<td style="text-align:right;">
659
</td>
<td style="text-align:right;">
443
</td>
<td style="text-align:right;">
52
</td>
</tr>
<tr>
<td style="text-align:right;">
10402
</td>
<td style="text-align:left;">
ALBANY
</td>
<td style="text-align:right;">
2012
</td>
<td style="text-align:left;">
MALE
</td>
<td style="text-align:left;">
ELEMENTARY
</td>
<td style="text-align:right;">
41
</td>
<td style="text-align:right;">
17.3
</td>
<td style="text-align:right;">
45
</td>
<td style="text-align:right;">
19.0
</td>
<td style="text-align:right;">
86
</td>
<td style="text-align:right;">
36.3
</td>
<td style="text-align:right;">
146
</td>
<td style="text-align:right;">
0.616
</td>
<td style="text-align:right;">
16
</td>
<td style="text-align:right;">
81
</td>
<td style="text-align:right;">
110
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1677
</td>
<td style="text-align:right;">
930
</td>
<td style="text-align:right;">
1016
</td>
<td style="text-align:right;">
17
</td>
<td style="text-align:right;">
61
</td>
<td style="text-align:right;">
281
</td>
<td style="text-align:right;">
753
</td>
<td style="text-align:right;">
544
</td>
<td style="text-align:right;">
143
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="export-to-.csv-for-use" class="section level2">
<h2>Export to .csv for Use</h2>
<p>What we did:</p>
<ul>
<li>We saved this refined dataset in a .csv file.</li>
</ul>
<pre class="r"><code>write.csv(cleaned, file = &quot;cleaned_data.csv&quot;, row.names = FALSE)</code></pre>
<p>Here is the dataset we will use for further analysis: <a
href="cleaned_data.csv">Cleaned Student Weight and Demographics</a></p>
</div>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->
<script>
$(document).ready(function () {
  window.initializeCodeFolding("hide" === "show");
});
</script>

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
